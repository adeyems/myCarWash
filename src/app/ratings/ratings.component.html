<ActionBar class="action-bar">
  <GridLayout rows="*" columns="2*,5*,*">
    <Image
      src="res://icon"
      class="page-icon"
      row="0"
      verticalAlignment="center"
      col="0"
      stretch="aspectFit"
    ></Image>
    <Image
      src="res://account"
      class="account-icon"
      row="0"
      verticalAlignment="center"
      col="2"
      stretch="aspectFill"
      (tap)="onLogout()"
    ></Image>
    <Label
      class="text-center action-bar-title"
      row="0"
      col="1"
      verticalAlignment="center"
      textWrap="true"
      text="Customer Ratings"
    ></Label>
  </GridLayout>
</ActionBar>
<ScrollView>
  <StackLayout marginTop="10">
    <FlexboxLayout
      width="100%"
      height="100%"
      justifyContent="center"
      alignItems="center"
      *ngIf="isLoading"
    >
      <ActivityIndicator busy="true"></ActivityIndicator>
    </FlexboxLayout>
    <StackLayout *ngIf="!isLoading">
      <FlexboxLayout
        width="100%"
        justifyContent="center"
        class="booking-table-row"
        *ngIf="ratingsDetails.length < 1"
      >
        <Label text="No Rating found!" textWrap="true"></Label>
      </FlexboxLayout>
      <StackLayout *ngIf="ratingsDetails.length > 0">
        <StackLayout class="feedbacks-box" *ngFor="let rtd of ratingsDetails">
          <StackLayout class="fbk-user-info">
            <Label [text]="rtd.customerInfo.customerName+' '+rtd.customerInfo.customerSurname" textAlignment="center"
                   class="text-deep-bold" fontSize="17"></Label>
            <Label [text]="rtd.customerInfo.customerEmail" textAlignment="center"></Label>
            <Label [text]="rtd.customerInfo.customerPhone" textAlignment="center"></Label>
          </StackLayout>
          <FlexboxLayout *ngFor="let rinf of rtd.ratingInfo" class="rating-item">
            <FlexboxLayout justifyContent="center" alignItems="center">
              <Label
                text="&#xf005;"
                class="fa"
                fontSize="15"
                [class.is-selected]="rinf.rating > 0"
              ></Label>
              <Label
                text="&#xf005;"
                class="fa"
                fontSize="15"
                [class.is-selected]="rinf.rating > 1"
              ></Label>
              <Label
                text="&#xf005;"
                class="fa"
                fontSize="15"
                [class.is-selected]="rinf.rating > 2"
              ></Label>
              <Label
                text="&#xf005;"
                class="fa"
                fontSize="15"
                [class.is-selected]="rinf.rating > 3"
              ></Label>
              <Label
                text="&#xf005;"
                class="fa"
                fontSize="15"
                [class.is-selected]="rinf.rating > 4"
              ></Label>
            </FlexboxLayout>
            <Label [text]="rinf.bookingId" class="text-deep-bold"></Label>
            <Label [text]="rinf.fbDate" class="text-deep-bold"></Label>
          </FlexboxLayout>
        </StackLayout>
      </StackLayout>
    </StackLayout>
  </StackLayout>
</ScrollView>
